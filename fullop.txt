REPOSITORY                                        TAG      IMAGE ID       CREATED          SIZE
localhost/do180/apache                            latest   fe52f8ddad4a   23 seconds ago   234 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   ef75f9ef1b99   11 days ago      330 MB
registry.access.redhat.com/ubi8/ubi               8.3      613e5da7a934   13 months ago    213 MB
registry.redhat.io/rhscl/mysql-57-rhel7           latest   60726b33a00a   2 years ago      448 MB
[student@workstation dockerfile-create]$ podman run --name lab-apache -d -p 10080:80 do180/apache
dee5b3e117d0a491c38ba224ce0a646391945f9cfe2e4ff153f1a29203e84448
[student@workstation dockerfile-create]$ podman ps
CONTAINER ID  IMAGE                                                   COMMAND               CREATED        STATUS            PORTS                  NAMES
dee5b3e117d0  localhost/do180/apache:latest                           httpd -D FOREGROU...  8 seconds ago  Up 7 seconds ago  0.0.0.0:10080->80/tcp  lab-apache
17c7d7dfcec8  registry.redhat.io/rhscl/mysql-57-rhel7:latest          run-mysqld            42 hours ago   Up 42 hours ago                          thirsty_wing
671cfd20d752  registry.access.redhat.com/rhscl/httpd-24-rhel7:latest  /usr/bin/run-http...  42 hours ago   Up 42 hours ago                          inspiring_sanderson
[student@workstation dockerfile-create]$ curl 127.0.0.1:10080
Hello from Containerfile
[student@workstation dockerfile-create]$ lab dockerfile-create finish

Completing the Guided Exercise: Building a basic Apache Container Image

 · Stopping lab-apache container that is running...............  SUCCESS
 · Removing lab-apache container that is in the cache..........  SUCCESS
 · Removing do180/apache custom container image................  SUCCESS
 · Removing UBI8 container image...............................  SUCCESS
[student@workstation dockerfile-create]$ clear

[student@workstation dockerfile-create]$ which oc
/usr/bin/oc
[student@workstation dockerfile-create]$ oc login -u developer -p developer ^C
[student@workstation dockerfile-create]$ cat /usr/local/etc/ocp4.config 
RHT_OCP4_MASTER_API=https://api.ocp4.example.com:6443
RHT_OCP4_WILDCARD_DOMAIN=apps.ocp4.example.com
RHT_OCP4_NEXUS_SERVER=nexus-common.apps.ocp4.example.com
RHT_OCP4_DEV_USER=developer
RHT_OCP4_DEV_PASSWORD=developer
RHT_OCP4_GITHUB_USER=MasiGit
RHT_OCP4_QUAY_USER=masiy2k
RHT_OCP4_USER_PASSWD=redhat
[student@workstation dockerfile-create]$ oc login -u developer -p developer https://api.ocp4.example.com:6443
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation dockerfile-create]$ oc whami
Error: unknown command "whami" for "oc"

Did you mean this?
	whoami

Run 'oc --help' for usage.
[student@workstation dockerfile-create]$ oc whoami
developer
[student@workstation dockerfile-create]$ oc whoami man
developer
[student@workstation dockerfile-create]$ oc whoami 
Containerfile  .placeholder   
[student@workstation dockerfile-create]$ oc whoami 
Containerfile  .placeholder   
[student@workstation dockerfile-create]$ oc whoami 
Containerfile  .placeholder   
[student@workstation dockerfile-create]$ ls
Containerfile
[student@workstation dockerfile-create]$ pwd
/home/student/DO180/labs/dockerfile-create
[student@workstation dockerfile-create]$ cd ..
[student@workstation labs]$ cd ..
[student@workstation DO180]$ cd ..
[student@workstation ~]$ oc whoami --show-console
https://console-openshift-console.apps.ocp4.example.com
[student@workstation ~]$ oc templates
Error: unknown command "templates" for "oc"
Run 'oc --help' for usage.
[student@workstation ~]$ oc template
Error: unknown command "template" for "oc"
Run 'oc --help' for usage.
[student@workstation ~]$ oc get template
Error from server (Forbidden): templates.template.openshift.io is forbidden: User "developer" cannot list resource "templates" in API group "template.openshift.io" in the namespace "default"
[student@workstation ~]$ oc get templates
Error from server (Forbidden): templates.template.openshift.io is forbidden: User "developer" cannot list resource "templates" in API group "template.openshift.io" in the namespace "default"
[student@workstation ~]$ oc status
error: you do not have rights to view project "default" specified in your config or the project doesn't exist
[student@workstation ~]$ oc get all
Error from server (Forbidden): pods is forbidden: User "developer" cannot list resource "pods" in API group "" in the namespace "default"
Error from server (Forbidden): replicationcontrollers is forbidden: User "developer" cannot list resource "replicationcontrollers" in API group "" in the namespace "default"
Error from server (Forbidden): services is forbidden: User "developer" cannot list resource "services" in API group "" in the namespace "default"
Error from server (Forbidden): daemonsets.apps is forbidden: User "developer" cannot list resource "daemonsets" in API group "apps" in the namespace "default"
Error from server (Forbidden): deployments.apps is forbidden: User "developer" cannot list resource "deployments" in API group "apps" in the namespace "default"
Error from server (Forbidden): replicasets.apps is forbidden: User "developer" cannot list resource "replicasets" in API group "apps" in the namespace "default"
Error from server (Forbidden): statefulsets.apps is forbidden: User "developer" cannot list resource "statefulsets" in API group "apps" in the namespace "default"
Error from server (Forbidden): horizontalpodautoscalers.autoscaling is forbidden: User "developer" cannot list resource "horizontalpodautoscalers" in API group "autoscaling" in the namespace "default"
Error from server (Forbidden): jobs.batch is forbidden: User "developer" cannot list resource "jobs" in API group "batch" in the namespace "default"
Error from server (Forbidden): cronjobs.batch is forbidden: User "developer" cannot list resource "cronjobs" in API group "batch" in the namespace "default"
Error from server (Forbidden): deploymentconfigs.apps.openshift.io is forbidden: User "developer" cannot list resource "deploymentconfigs" in API group "apps.openshift.io" in the namespace "default"
Error from server (Forbidden): buildconfigs.build.openshift.io is forbidden: User "developer" cannot list resource "buildconfigs" in API group "build.openshift.io" in the namespace "default"
Error from server (Forbidden): builds.build.openshift.io is forbidden: User "developer" cannot list resource "builds" in API group "build.openshift.io" in the namespace "default"
Error from server (Forbidden): imagestreams.image.openshift.io is forbidden: User "developer" cannot list resource "imagestreams" in API group "image.openshift.io" in the namespace "default"
Error from server (Forbidden): routes.route.openshift.io is forbidden: User "developer" cannot list resource "routes" in API group "route.openshift.io" in the namespace "default"
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ df -h
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        2.8G     0  2.8G   0% /dev
tmpfs           2.9G   45M  2.8G   2% /dev/shm
tmpfs           2.9G   18M  2.9G   1% /run
tmpfs           2.9G     0  2.9G   0% /sys/fs/cgroup
/dev/vda3       9.9G  6.8G  3.2G  69% /
/dev/vda2       100M  6.9M   93M   7% /boot/efi
tmpfs           580M   16K  580M   1% /run/user/42
tmpfs           580M  212K  580M   1% /run/user/1000
[student@workstation ~]$ lab openshift-resources start

Setting up workstation for the Guided Exercise: Deploying a Database Server on OpenShift

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-mysql-openshift' project is absent..  SUCCESS
[student@workstation ~]$ source /usr/local/etc/ocp4.config 
[student@workstation ~]$ echo $RHT_OCP4_DEV_USER
developer
[student@workstation ~]$ oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation ~]$ oc new-project ${RHT_OCP4_DEV_USER}-mysql-openshift
Now using project "developer-mysql-openshift" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation ~]$ oc new-app --template=mysql-persistent -p MYSQL_USER=user1 -p MYSQL_PASSWORD=mypa55 -p MYSQL_DATABASE=testdb -p MYSQL_ROOT_PASSWORD=r00tpa55 -p VOLUME_CAPACITY=10Gi
--> Deploying template "openshift/mysql-persistent" to project developer-mysql-openshift

     MySQL
     ---------
     MySQL database service, with persistent storage. For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/mysql-container/blob/master/8.0/root/usr/share/container-scripts/mysql/README.md.
     
     NOTE: Scaling to more than one replica is not supported. You must have persistent volumes available in your cluster to use this template.

     The following service(s) have been created in your project: mysql.
     
            Username: user1
            Password: mypa55
       Database Name: testdb
      Connection URL: mysql://mysql:3306/
     
     For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/mysql-container/blob/master/8.0/root/usr/share/container-scripts/mysql/README.md.

     * With parameters:
        * Memory Limit=512Mi
        * Namespace=openshift
        * Database Service Name=mysql
        * MySQL Connection Username=user1
        * MySQL Connection Password=mypa55
        * MySQL root user Password=r00tpa55
        * MySQL Database Name=testdb
        * Volume Capacity=10Gi
        * Version of MySQL Image=8.0-el8

--> Creating resources ...
    secret "mysql" created
    service "mysql" created
    persistentvolumeclaim "mysql" created
    deploymentconfig.apps.openshift.io "mysql" created
--> Success
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/mysql' 
    Run 'oc status' to view your app.
[student@workstation ~]$ oc status
In project developer-mysql-openshift on server https://api.ocp4.example.com:6443

svc/mysql - 172.30.174.199:3306
  dc/mysql deploys openshift/mysql:8.0-el8 
    deployment #1 running for 9 seconds - 0/1 pods

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc status
In project developer-mysql-openshift on server https://api.ocp4.example.com:6443

svc/mysql - 172.30.174.199:3306
  dc/mysql deploys openshift/mysql:8.0-el8 
    deployment #1 running for 38 seconds - 0/1 pods

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc get pods
NAME             READY   STATUS    RESTARTS   AGE
mysql-1-7kkcb    0/1     Running   0          52s
mysql-1-deploy   1/1     Running   0          56s
[student@workstation ~]$ oc describe pod mysql-1-7kkcb
Name:         mysql-1-7kkcb
Namespace:    developer-mysql-openshift
Priority:     0
Node:         master03/192.168.50.12
Start Time:   Wed, 25 May 2022 05:21:52 -0400
Labels:       deployment=mysql-1
              deploymentconfig=mysql
              name=mysql
Annotations:  k8s.v1.cni.cncf.io/network-status:
                [{
                    "name": "",
                    "interface": "eth0",
                    "ips": [
                        "10.10.0.245"
                    ],
                    "default": true,
                    "dns": {}
                }]
              k8s.v1.cni.cncf.io/networks-status:
                [{
                    "name": "",
                    "interface": "eth0",
                    "ips": [
                        "10.10.0.245"
                    ],
                    "default": true,
                    "dns": {}
                }]
              openshift.io/deployment-config.latest-version: 1
              openshift.io/deployment-config.name: mysql
              openshift.io/deployment.name: mysql-1
              openshift.io/generated-by: OpenShiftNewApp
              openshift.io/scc: restricted
Status:       Running
IP:           10.10.0.245
IPs:
  IP:           10.10.0.245
Controlled By:  ReplicationController/mysql-1
Containers:
  mysql:
    Container ID:   cri-o://ce2e0b96d5dbd70803bc55e581fd4523e1bedcb158640e95b277e538c13e863d
    Image:          image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Image ID:       image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Port:           3306/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Wed, 25 May 2022 05:23:23 -0400
      Finished:     Wed, 25 May 2022 05:23:25 -0400
    Ready:          False
    Restart Count:  2
    Limits:
      memory:  512Mi
    Requests:
      memory:   512Mi
    Liveness:   exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=30s timeout=1s period=10s #success=1 #failure=3
    Readiness:  exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=5s timeout=1s period=10s #success=1 #failure=3
    Environment:
      MYSQL_USER:           <set to the key 'database-user' in secret 'mysql'>           Optional: false
      MYSQL_PASSWORD:       <set to the key 'database-password' in secret 'mysql'>       Optional: false
      MYSQL_ROOT_PASSWORD:  <set to the key 'database-root-password' in secret 'mysql'>  Optional: false
      MYSQL_DATABASE:       <set to the key 'database-name' in secret 'mysql'>           Optional: false
    Mounts:
      /var/lib/mysql/data from mysql-data (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-4l92h (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             False 
  ContainersReady   False 
  PodScheduled      True 
Volumes:
  mysql-data:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  mysql
    ReadOnly:   false
  default-token-4l92h:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-4l92h
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/memory-pressure:NoSchedule op=Exists
                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason          Age                From               Message
  ----     ------          ----               ----               -------
  Normal   Scheduled       102s               default-scheduler  Successfully assigned developer-mysql-openshift/mysql-1-7kkcb to master03
  Normal   AddedInterface  99s                multus             Add eth0 [10.10.0.245/23]
  Warning  Unhealthy       45s (x3 over 65s)  kubelet            Liveness probe failed: sh: cannot set terminal process group (-1): Inappropriate ioctl for device
sh: no job control in this shell
mysqladmin: connect to server at 'localhost' failed
error: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)'
Check that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!
  Normal   Killing    45s                kubelet  Container mysql failed liveness probe, will be restarted
  Warning  Unhealthy  15s (x8 over 85s)  kubelet  Readiness probe failed: sh: cannot set terminal process group (-1): Inappropriate ioctl for device
sh: no job control in this shell
mysqladmin: connect to server at 'localhost' failed
error: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)'
Check that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!
  Normal   Pulled   11s (x3 over 98s)  kubelet  Container image "image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc" already present on machine
  Normal   Created  11s (x3 over 98s)  kubelet  Created container mysql
  Normal   Started  11s (x3 over 98s)  kubelet  Started container mysql
  Warning  BackOff  5s (x2 over 8s)    kubelet  Back-off restarting failed container
[student@workstation ~]$ oc get svc
NAME    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE
mysql   ClusterIP   172.30.174.199   <none>        3306/TCP   2m3s
[student@workstation ~]$ oc describe service mysql
Name:              mysql
Namespace:         developer-mysql-openshift
Labels:            app=mysql-persistent
                   app.kubernetes.io/component=mysql-persistent
                   app.kubernetes.io/instance=mysql-persistent
                   template=mysql-persistent-template
Annotations:       openshift.io/generated-by: OpenShiftNewApp
                   template.openshift.io/expose-uri: mysql://{.spec.clusterIP}:{.spec.ports[?(.name=="mysql")].port}
Selector:          name=mysql
Type:              ClusterIP
IP:                172.30.174.199
Port:              mysql  3306/TCP
TargetPort:        3306/TCP
Endpoints:         
Session Affinity:  None
Events:            <none>
[student@workstation ~]$ oc get pvc
NAME    STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
mysql   Bound    pvc-678c3a83-5b2d-40a0-99bb-941735a0595e   10Gi       RWO            nfs-storage    2m39s
[student@workstation ~]$ oc describe pvc/mysql
Name:          mysql
Namespace:     developer-mysql-openshift
StorageClass:  nfs-storage
Status:        Bound
Volume:        pvc-678c3a83-5b2d-40a0-99bb-941735a0595e
Labels:        app=mysql-persistent
               app.kubernetes.io/component=mysql-persistent
               app.kubernetes.io/instance=mysql-persistent
               template=mysql-persistent-template
Annotations:   openshift.io/generated-by: OpenShiftNewApp
               pv.kubernetes.io/bind-completed: yes
               pv.kubernetes.io/bound-by-controller: yes
               volume.beta.kubernetes.io/storage-provisioner: nfs-storage-provisioner
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:      10Gi
Access Modes:  RWO
VolumeMode:    Filesystem
Mounted By:    mysql-1-7kkcb
Events:
  Type    Reason                 Age                  From                                                                                                  Message
  ----    ------                 ----                 ----                                                                                                  -------
  Normal  ExternalProvisioning   3m5s (x2 over 3m5s)  persistentvolume-controller                                                                           waiting for a volume to be created, either by external provisioner "nfs-storage-provisioner" or manually created by system administrator
  Normal  Provisioning           3m4s                 nfs-storage-provisioner_nfs-client-provisioner-699dc7cc94-t55p4_4a7ceb73-da8a-11ec-bbaf-0a580a0a0010  External provisioner is provisioning volume for claim "developer-mysql-openshift/mysql"
  Normal  ProvisioningSucceeded  3m4s                 nfs-storage-provisioner_nfs-client-provisioner-699dc7cc94-t55p4_4a7ceb73-da8a-11ec-bbaf-0a580a0a0010  Successfully provisioned volume pvc-678c3a83-5b2d-40a0-99bb-941735a0595e
[student@workstation ~]$ oc port-forward mysql-1-7kkcb 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
E0525 05:26:18.665914   69796 portforward.go:400] an error occurred forwarding 3306 -> 3306: error forwarding port 3306 to pod 98fd391c4966257c0fef51cb558cffd0de6fac39fc5feb561b1072a478b3108e, uid : port forward into network namespace "/var/run/netns/93dcbff1-6b10-47d6-8f5b-66c2bebfa561": dialing 3306: dial tcp4 127.0.0.1:3306: connect: connection refused
Handling connection for 3306
E0525 05:26:37.412787   69796 portforward.go:400] an error occurred forwarding 3306 -> 3306: error forwarding port 3306 to pod 98fd391c4966257c0fef51cb558cffd0de6fac39fc5feb561b1072a478b3108e, uid : port forward into network namespace "/var/run/netns/93dcbff1-6b10-47d6-8f5b-66c2bebfa561": dialing 3306: dial tcp4 127.0.0.1:3306: connect: connection refused
E0525 05:27:37.414388   69796 portforward.go:233] lost connection to pod
[student@workstation ~]$ oc port-forward mysql-1-7kkcb 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
E0525 05:28:34.327999   69911 portforward.go:400] an error occurred forwarding 3306 -> 3306: error forwarding port 3306 to pod 98fd391c4966257c0fef51cb558cffd0de6fac39fc5feb561b1072a478b3108e, uid : port forward into network namespace "/var/run/netns/93dcbff1-6b10-47d6-8f5b-66c2bebfa561": dialing 3306: dial tcp4 127.0.0.1:3306: connect: connection refused
E0525 05:29:34.329159   69911 portforward.go:233] lost connection to pod
[student@workstation ~]$ oc port-forward mysql-1-7kkcb 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
E0525 05:29:47.934767   69944 portforward.go:400] an error occurred forwarding 3306 -> 3306: error forwarding port 3306 to pod 98fd391c4966257c0fef51cb558cffd0de6fac39fc5feb561b1072a478b3108e, uid : port forward into network namespace "/var/run/netns/93dcbff1-6b10-47d6-8f5b-66c2bebfa561": dialing 3306: dial tcp4 127.0.0.1:3306: connect: connection refused
E0525 05:30:47.937194   69944 portforward.go:233] lost connection to pod
[student@workstation ~]$ oc port-forward mysql-1-7kkcb 3306:3306
Error from server (NotFound): pods "mysql-1-7kkcb" not found
[student@workstation ~]$ oc get pod
NAME             READY   STATUS   RESTARTS   AGE
mysql-1-deploy   0/1     Error    0          12m
[student@workstation ~]$ oc status
In project developer-mysql-openshift on server https://api.ocp4.example.com:6443

svc/mysql - 172.30.174.199:3306
  dc/mysql deploys openshift/mysql:8.0-el8 
    deployment #1 failed 12 minutes ago: config change

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc describe dc/mysql
Name:		mysql
Namespace:	developer-mysql-openshift
Created:	13 minutes ago
Labels:		app=mysql-persistent
		app.kubernetes.io/component=mysql-persistent
		app.kubernetes.io/instance=mysql-persistent
		template=mysql-persistent-template
Annotations:	openshift.io/generated-by=OpenShiftNewApp
		template.alpha.openshift.io/wait-for-ready=true
Latest Version:	1
Selector:	name=mysql
Replicas:	1
Triggers:	Image(mysql@8.0-el8, auto=true), Config
Strategy:	Recreate
Template:
Pod Template:
  Labels:	name=mysql
  Annotations:	openshift.io/generated-by: OpenShiftNewApp
  Containers:
   mysql:
    Image:	image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Port:	3306/TCP
    Host Port:	0/TCP
    Limits:
      memory:	512Mi
    Liveness:	exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=30s timeout=1s period=10s #success=1 #failure=3
    Readiness:	exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=5s timeout=1s period=10s #success=1 #failure=3
    Environment:
      MYSQL_USER:		<set to the key 'database-user' in secret 'mysql'>		Optional: false
      MYSQL_PASSWORD:		<set to the key 'database-password' in secret 'mysql'>		Optional: false
      MYSQL_ROOT_PASSWORD:	<set to the key 'database-root-password' in secret 'mysql'>	Optional: false
      MYSQL_DATABASE:		<set to the key 'database-name' in secret 'mysql'>		Optional: false
    Mounts:
      /var/lib/mysql/data from mysql-data (rw)
  Volumes:
   mysql-data:
    Type:	PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:	mysql
    ReadOnly:	false

Deployment #1 (latest):
	Name:		mysql-1
	Created:	13 minutes ago
	Status:		Failed
	Replicas:	0 current / 0 desired
	Selector:	deployment=mysql-1,deploymentconfig=mysql,name=mysql
	Labels:		app.kubernetes.io/component=mysql-persistent,app.kubernetes.io/instance=mysql-persistent,app=mysql-persistent,openshift.io/deployment-config.name=mysql,template=mysql-persistent-template
	Pods Status:	0 Running / 0 Waiting / 0 Succeeded / 0 Failed

Events:
  Type		Reason				Age	From				Message
  ----		------				----	----				-------
  Normal	DeploymentCreated		13m	deploymentconfig-controller	Created new replication controller "mysql-1" for version 1
  Normal	ReplicationControllerScaled	3m7s	deploymentconfig-controller	Scaled replication controller "mysql-1" from 1 to 0
[student@workstation ~]$ oc logs mysql-1-deploy
--> Scaling mysql-1 to 1
error: update acceptor rejected mysql-1: pods for rc 'developer-mysql-openshift/mysql-1' took longer than 600 seconds to become available
[student@workstation ~]$ oc delete all -l template=mysql-persistent
No resources found
[student@workstation ~]$ oc status
In project developer-mysql-openshift on server https://api.ocp4.example.com:6443

svc/mysql - 172.30.174.199:3306
  dc/mysql deploys openshift/mysql:8.0-el8 
    deployment #1 failed 14 minutes ago: config change

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc describe svc/mysql
Name:              mysql
Namespace:         developer-mysql-openshift
Labels:            app=mysql-persistent
                   app.kubernetes.io/component=mysql-persistent
                   app.kubernetes.io/instance=mysql-persistent
                   template=mysql-persistent-template
Annotations:       openshift.io/generated-by: OpenShiftNewApp
                   template.openshift.io/expose-uri: mysql://{.spec.clusterIP}:{.spec.ports[?(.name=="mysql")].port}
Selector:          name=mysql
Type:              ClusterIP
IP:                172.30.174.199
Port:              mysql  3306/TCP
TargetPort:        3306/TCP
Endpoints:         <none>
Session Affinity:  None
Events:            <none>
[student@workstation ~]$ oc delete all -l template=mysql-persistent-template
replicationcontroller "mysql-1" deleted
service "mysql" deleted
deploymentconfig.apps.openshift.io "mysql" deleted
[student@workstation ~]$ oc delete secret/mysql
secret "mysql" deleted
[student@workstation ~]$ oc get pvc
NAME    STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
mysql   Bound    pvc-678c3a83-5b2d-40a0-99bb-941735a0595e   10Gi       RWO            nfs-storage    14m
[student@workstation ~]$ oc delete pvc/mysql
persistentvolumeclaim "mysql" deleted
[student@workstation ~]$ oc new-app --template=mysql-persistent -p MYSQL_USER=user1 -p MYSQL_PASSWORD=mypa55 -p MYSQL_DATABASE=testdb -p MYSQL_ROOT_PASSWORD=r00tpa55 -p VOLUME_CAPACITY=10Gi
--> Deploying template "openshift/mysql-persistent" to project developer-mysql-openshift

     MySQL
     ---------
     MySQL database service, with persistent storage. For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/mysql-container/blob/master/8.0/root/usr/share/container-scripts/mysql/README.md.
     
     NOTE: Scaling to more than one replica is not supported. You must have persistent volumes available in your cluster to use this template.

     The following service(s) have been created in your project: mysql.
     
            Username: user1
            Password: mypa55
       Database Name: testdb
      Connection URL: mysql://mysql:3306/
     
     For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/mysql-container/blob/master/8.0/root/usr/share/container-scripts/mysql/README.md.

     * With parameters:
        * Memory Limit=512Mi
        * Namespace=openshift
        * Database Service Name=mysql
        * MySQL Connection Username=user1
        * MySQL Connection Password=mypa55
        * MySQL root user Password=r00tpa55
        * MySQL Database Name=testdb
        * Volume Capacity=10Gi
        * Version of MySQL Image=8.0-el8

--> Creating resources ...
    secret "mysql" created
    service "mysql" created
    persistentvolumeclaim "mysql" created
    deploymentconfig.apps.openshift.io "mysql" created
--> Success
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/mysql' 
    Run 'oc status' to view your app.
[student@workstation ~]$ oc get pod -o wide -
Error from server (NotFound): pods "-" not found
[student@workstation ~]$ oc get pod -o wide -w
NAME             READY   STATUS    RESTARTS   AGE   IP            NODE       NOMINATED NODE   READINESS GATES
mysql-1-deploy   1/1     Running   0          13s   10.8.0.233    master01   <none>           <none>
mysql-1-f2c22    0/1     Running   0          10s   10.10.0.251   master03   <none>           <none>
mysql-1-f2c22    1/1     Running   0          24s   10.10.0.251   master03   <none>           <none>
mysql-1-deploy   0/1     Completed   0          27s   10.8.0.233    master01   <none>           <none>
^C[student@workstation ~]$ oc get pod
NAME             READY   STATUS      RESTARTS   AGE
mysql-1-deploy   0/1     Completed   0          116s
mysql-1-f2c22    1/1     Running     0          113s
[student@workstation ~]$ oc port-forward mysql-1-f2c22 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
E0525 05:42:31.056551   70301 portforward.go:233] lost connection to pod
[student@workstation ~]$ ls
Desktop  DO180  DO180-apps  Documents  Downloads  github_token.txt  local  Music  Pictures  Public  Templates  venv  Videos
[student@workstation ~]$ cd DO180
[student@workstation DO180]$ ls
labs  solutions
[student@workstation DO180]$ git status
fatal: not a git repository (or any of the parent directories): .git
[student@workstation DO180]$ cd ..
[student@workstation ~]$ cd D
Desktop/    DO180/      DO180-apps/ Documents/  Downloads/  
[student@workstation ~]$ cd DO180-apps/
[student@workstation DO180-apps]$ git status
On branch l1
Your branch is up to date with 'origin/l1'.

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	-d
	-e

nothing added to commit but untracked files present (use "git add" to track)
[student@workstation DO180-apps]$ history > history.txt
[student@workstation DO180-apps]$ git add .
[student@workstation DO180-apps]$ git commit -m "History"
[l1 54faccb] History
 3 files changed, 139 insertions(+)
 create mode 100644 -d
 create mode 100644 -e
 create mode 100644 history.txt
[student@workstation DO180-apps]$ git push origin l1
Username for 'https://github.com': MasiGit
Password for 'https://MasiGit@github.com': 
remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.
remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.
fatal: Authentication failed for 'https://github.com/MasiGit/DO180-apps/'
[student@workstation DO180-apps]$ ls
-d  -e  example  history.txt  nodejs-app  nodejs-helloworld  php-helloworld  README.md  temps  todoapp
[student@workstation DO180-apps]$ cd ..
[student@workstation ~]$ ls
Desktop  DO180  DO180-apps  Documents  Downloads  github_token.txt  local  Music  Pictures  Public  Templates  venv  Videos
[student@workstation ~]$ cat github_token.txt 
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
[student@workstation ~]$ cd ..
[student@workstation home]$ cd student/D
Desktop/    DO180/      DO180-apps/ Documents/  Downloads/  
[student@workstation home]$ cd student/D
Desktop/    DO180/      DO180-apps/ Documents/  Downloads/  
[student@workstation home]$ cd student/DO180-apps/
[student@workstation DO180-apps]$ git push origin l1
Username for 'https://github.com': MasiGit
Password for 'https://MasiGit@github.com': 
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 1.93 KiB | 1.93 MiB/s, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/MasiGit/DO180-apps
   f7cd896..54faccb  l1 -> l1
[student@workstation DO180-apps]$ cd ..
[student@workstation ~]$ ls
Desktop  DO180  DO180-apps  Documents  Downloads  github_token.txt  local  Music  Pictures  Public  Templates  venv  Videos
[student@workstation ~]$ oc status
In project developer-mysql-openshift on server https://api.ocp4.example.com:6443

svc/mysql - 172.30.181.107:3306
  dc/mysql deploys openshift/mysql:8.0-el8 
    deployment #1 deployed about an hour ago - 1 pod

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc delete project ${RHT_OCP4_DEV_USER}-mysql-openshift
project.project.openshift.io "developer-mysql-openshift" deleted
[student@workstation ~]$ lab openshift-resources finish 

Completing the Guided Exercise: Deploying a Database Server on OpenShift

 · Deleting the 'developer-mysql-openshift' project............  SUCCESS
[student@workstation ~]$ lab openshift-routes start

Setting up workstation for the Guided Exercise: Exposing a Service as a Route

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-route' project does not exist.......  SUCCESS
[student@workstation ~]$ source /usr/local/etc/ocp4.config
[student@workstation ~]$ oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation ~]$ oc new-project ${RHT_OCP4_DEV_USER}-route
Now using project "developer-route" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation ~]$ oc new-app --image-stream php:7.3~https://github.com/${RHT_OCP4_GITHUB_USER/DO180-apps --context-dir php-helloworld --name php-helloworld
> ^C
[student@workstation ~]$ oc new-app --image-stream php:7.3~https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps --context-dir php-helloworld --name php-helloworld
--> Found image fff7ff0 (11 months old) in image stream "openshift/php" under tag "7.3" for "php:7.3"

    Apache 2.4 with PHP 7.3 
    ----------------------- 
    PHP 7.3 available as container is a base platform for building and running various PHP 7.3 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php73, rh-php73

    * A source build using source code from https://github.com/MasiGit/DO180-apps will be created
      * The resulting image will be pushed to image stream tag "php-helloworld:latest"
      * Use 'oc start-build' to trigger a new build

--> Creating resources ...
    imagestream.image.openshift.io "php-helloworld" created
    buildconfig.build.openshift.io "php-helloworld" created
    deployment.apps "php-helloworld" created
    service "php-helloworld" created
--> Success
    Build scheduled, use 'oc logs -f buildconfig/php-helloworld' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/php-helloworld' 
    Run 'oc status' to view your app.
[student@workstation ~]$ oc status
In project developer-route on server https://api.ocp4.example.com:6443

svc/php-helloworld - 172.30.243.103 ports 8080, 8443
  deployment/php-helloworld deploys istag/php-helloworld:latest <-
    bc/php-helloworld source builds https://github.com/MasiGit/DO180-apps on openshift/php:7.3 
      build #1 pending for 8 seconds
    deployment #1 running for 8 seconds - 0/1 pods growing to 1


1 info identified, use 'oc status --suggest' to see details.
[student@workstation ~]$ oc get pods -w
NAME                     READY   STATUS     RESTARTS   AGE
php-helloworld-1-build   0/1     Init:0/2   0          15s
php-helloworld-1-build   0/1     Init:1/2   0          15s
php-helloworld-1-build   0/1     PodInitializing   0          16s
php-helloworld-1-build   1/1     Running           0          17s
^C[student@workstation ~]$ oc get pods
NAME                     READY   STATUS    RESTARTS   AGE
php-helloworld-1-build   1/1     Running   0          30s
[student@workstation ~]$ oc logs -f bc/php-helloworld
Adding cluster TLS certificate authority to trust store
Cloning "https://github.com/MasiGit/DO180-apps" ...
	Commit:	f7cd8963ef353d9173c3a21dcccf402f3616840b (Initial commit, including all apps previously in course)
	Author:	Jordi Sola <someth2say@gmail.com>
	Date:	Fri Oct 4 13:04:03 2019 +0200
Adding cluster TLS certificate authority to trust store
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.commit.message"="Initial commit, including all apps previously in course"       "io.openshift.build.source-location"="https://github.com/MasiGit/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"       "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>"       "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200"       "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b"       "io.openshift.build.commit.ref"="master"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-1"     OPENSHIFT_BUILD_NAMESPACE="developer-route"     OPENSHIFT_BUILD_SOURCE="https://github.com/MasiGit/DO180-apps"     OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2022-05-25T11:25:40Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2022-05-25T11:25:40Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2022-05-25T11:25:41Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2022-05-25T11:25:41Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 11:25:42     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-route/php-helloworld-1:bef8c610
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:8c60f5d42c9b93e669f7bb140734dc8100828a77d6180da7d9d8440c968de361
Copying config sha256:43cf46b721790b987c1e3362312a2e5f82028c03480fe08ad5d918e1d0941574
Writing manifest to image destination
Storing signatures
--> 43cf46b7217
43cf46b721790b987c1e3362312a2e5f82028c03480fe08ad5d918e1d0941574

Pushing image image-registry.openshift-image-registry.svc:5000/developer-route/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:8c60f5d42c9b93e669f7bb140734dc8100828a77d6180da7d9d8440c968de361
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying config sha256:43cf46b721790b987c1e3362312a2e5f82028c03480fe08ad5d918e1d0941574
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-route/php-helloworld@sha256:ea1b52c0d8846c590235f873a71eccfb904c2432d60e68bc08b1adb940b1764a
Push successful
[student@workstation ~]$ oc describe svc/php-helloworld
Name:              php-helloworld
Namespace:         developer-route
Labels:            app=php-helloworld
                   app.kubernetes.io/component=php-helloworld
                   app.kubernetes.io/instance=php-helloworld
Annotations:       openshift.io/generated-by: OpenShiftNewApp
Selector:          deployment=php-helloworld
Type:              ClusterIP
IP:                172.30.243.103
Port:              8080-tcp  8080/TCP
TargetPort:        8080/TCP
Endpoints:         10.8.0.244:8080
Port:              8443-tcp  8443/TCP
TargetPort:        8443/TCP
Endpoints:         10.8.0.244:8443
Session Affinity:  None
Events:            <none>
[student@workstation ~]$ oc expose svc/php-helloworld
route.route.openshift.io/php-helloworld exposed
[student@workstation ~]$ oc describe route
Name:			php-helloworld
Namespace:		developer-route
Created:		11 seconds ago
Labels:			app=php-helloworld
			app.kubernetes.io/component=php-helloworld
			app.kubernetes.io/instance=php-helloworld
Annotations:		openshift.io/host.generated=true
Requested Host:		php-helloworld-developer-route.apps.ocp4.example.com
			   exposed on router default (host apps.ocp4.example.com) 11 seconds ago
Path:			<none>
TLS Termination:	<none>
Insecure Policy:	<none>
Endpoint Port:		8080-tcp

Service:	php-helloworld
Weight:		100 (100%)
Endpoints:	10.8.0.244:8080, 10.8.0.244:8443
[student@workstation ~]$ curl php-helloworld-developer-route.apps.ocp4.example.com
Hello, World! php version is 7.3.20
[student@workstation ~]$ oc expose svc/php-helloworld --name customphp.apps.ocp4.example.com
route.route.openshift.io/customphp.apps.ocp4.example.com exposed
[student@workstation ~]$ oc describe route
Name:			customphp.apps.ocp4.example.com
Namespace:		developer-route
Created:		11 seconds ago
Labels:			app=php-helloworld
			app.kubernetes.io/component=php-helloworld
			app.kubernetes.io/instance=php-helloworld
Annotations:		openshift.io/host.generated=true
Requested Host:		customphp-apps-ocp4-example-com-developer-route.apps.ocp4.example.com
			   exposed on router default (host apps.ocp4.example.com) 11 seconds ago
Path:			<none>
TLS Termination:	<none>
Insecure Policy:	<none>
Endpoint Port:		8080-tcp

Service:	php-helloworld
Weight:		100 (100%)
Endpoints:	10.8.0.244:8080, 10.8.0.244:8443


Name:			php-helloworld
Namespace:		developer-route
Created:		3 minutes ago
Labels:			app=php-helloworld
			app.kubernetes.io/component=php-helloworld
			app.kubernetes.io/instance=php-helloworld
Annotations:		openshift.io/host.generated=true
Requested Host:		php-helloworld-developer-route.apps.ocp4.example.com
			   exposed on router default (host apps.ocp4.example.com) 3 minutes ago
Path:			<none>
TLS Termination:	<none>
Insecure Policy:	<none>
Endpoint Port:		8080-tcp

Service:	php-helloworld
Weight:		100 (100%)
Endpoints:	10.8.0.244:8080, 10.8.0.244:8443
[student@workstation ~]$ curl 
curl: try 'curl --help' or 'curl --manual' for more information
[student@workstation ~]$ 
[student@workstation ~]$ curl customphp.apps.ocp4.example.com
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

  <style type="text/css">
  /*!
   * Bootstrap v3.3.5 (http://getbootstrap.com)
   * Copyright 2011-2015 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   */
  /*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
  html {
    font-family: sans-serif;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
  }
  body {
    margin: 0;
  }
  h1 {
    font-size: 1.7em;
    font-weight: 400;
    line-height: 1.3;
    margin: 0.68em 0;
  }
  * {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }
  *:before,
  *:after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }
  html {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  }
  body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 1.66666667;
    font-size: 13px;
    color: #333333;
    background-color: #ffffff;
    margin: 2em 1em;
  }
  p {
    margin: 0 0 10px;
    font-size: 13px;
  }
  .alert.alert-info {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    background-color: #f5f5f5;
    border-color: #8b8d8f;
    color: #363636;
    margin-top: 30px;
  }
  .alert p {
    padding-left: 35px;
  }
  a {
    color: #0088ce;
  }

  ul {
    position: relative;
    padding-left: 51px;
  }
  p.info {
    position: relative;
    font-size: 15px;
    margin-bottom: 10px;
  }
  p.info:before, p.info:after {
    content: "";
    position: absolute;
    top: 9%;
    left: 0;
  }
  p.info:before {
    content: "i";
    left: 3px;
    width: 20px;
    height: 20px;
    font-family: serif;
    font-size: 15px;
    font-weight: bold;
    line-height: 21px;
    text-align: center;
    color: #fff;
    background: #4d5258;
    border-radius: 16px;
  }

  @media (min-width: 768px) {
    body {
      margin: 4em 3em;
    }
    h1 {
      font-size: 2.15em;}
  }

  </style>
  </head>
  <body>
    <div>
      <h1>Application is not available</h1>
      <p>The application is currently not serving requests at this endpoint. It may not have been started or is still starting.</p>

      <div class="alert alert-info">
        <p class="info">
          Possible reasons you are seeing this page:
        </p>
        <ul>
          <li>
            <strong>The host doesn't exist.</strong>
            Make sure the hostname was typed correctly and that a route matching this hostname exists.
          </li>
          <li>
            <strong>The host exists, but doesn't have a matching path.</strong>
            Check if the URL path was typed correctly and that the route was created using the desired path.
          </li>
          <li>
            <strong>Route and path matches, but all pods are down.</strong>
            Make sure that the resources exposed by this route (pods, services, deployment configs, etc) have at least one pod running.
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
[student@workstation ~]$ curl customphp.apps.ocp4.exa^Cle.com
[student@workstation ~]$ oc expose svc/php-helloworld --name customphp.apps.ocp4.example.com^C
[student@workstation ~]$ curl customphp.apps.ocp4.example.com
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

  <style type="text/css">
  /*!
   * Bootstrap v3.3.5 (http://getbootstrap.com)
   * Copyright 2011-2015 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   */
  /*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
  html {
    font-family: sans-serif;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
  }
  body {
    margin: 0;
  }
  h1 {
    font-size: 1.7em;
    font-weight: 400;
    line-height: 1.3;
    margin: 0.68em 0;
  }
  * {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }
  *:before,
  *:after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }
  html {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  }
  body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 1.66666667;
    font-size: 13px;
    color: #333333;
    background-color: #ffffff;
    margin: 2em 1em;
  }
  p {
    margin: 0 0 10px;
    font-size: 13px;
  }
  .alert.alert-info {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    background-color: #f5f5f5;
    border-color: #8b8d8f;
    color: #363636;
    margin-top: 30px;
  }
  .alert p {
    padding-left: 35px;
  }
  a {
    color: #0088ce;
  }

  ul {
    position: relative;
    padding-left: 51px;
  }
  p.info {
    position: relative;
    font-size: 15px;
    margin-bottom: 10px;
  }
  p.info:before, p.info:after {
    content: "";
    position: absolute;
    top: 9%;
    left: 0;
  }
  p.info:before {
    content: "i";
    left: 3px;
    width: 20px;
    height: 20px;
    font-family: serif;
    font-size: 15px;
    font-weight: bold;
    line-height: 21px;
    text-align: center;
    color: #fff;
    background: #4d5258;
    border-radius: 16px;
  }

  @media (min-width: 768px) {
    body {
      margin: 4em 3em;
    }
    h1 {
      font-size: 2.15em;}
  }

  </style>
  </head>
  <body>
    <div>
      <h1>Application is not available</h1>
      <p>The application is currently not serving requests at this endpoint. It may not have been started or is still starting.</p>

      <div class="alert alert-info">
        <p class="info">
          Possible reasons you are seeing this page:
        </p>
        <ul>
          <li>
            <strong>The host doesn't exist.</strong>
            Make sure the hostname was typed correctly and that a route matching this hostname exists.
          </li>
          <li>
            <strong>The host exists, but doesn't have a matching path.</strong>
            Check if the URL path was typed correctly and that the route was created using the desired path.
          </li>
          <li>
            <strong>Route and path matches, but all pods are down.</strong>
            Make sure that the resources exposed by this route (pods, services, deployment configs, etc) have at least one pod running.
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
[student@workstation ~]$ oc get route
NAME                              HOST/PORT                                                               PATH   SERVICES         PORT       TERMINATION   WILDCARD
customphp.apps.ocp4.example.com   customphp-apps-ocp4-example-com-developer-route.apps.ocp4.example.com          php-helloworld   8080-tcp                 None
php-helloworld                    php-helloworld-developer-route.apps.ocp4.example.com                           php-helloworld   8080-tcp                 None
[student@workstation ~]$ curl customphp-apps-ocp4-example-com-developer-route.apps.ocp4.example.com
Hello, World! php version is 7.3.20
[student@workstation ~]$ oc expose svc/php-helloworld --hostname  customphp.apps.ocp4.example.com --name newroute
route.route.openshift.io/newroute exposed
[student@workstation ~]$ oc get route
NAME                              HOST/PORT                                                               PATH   SERVICES         PORT       TERMINATION   WILDCARD
customphp.apps.ocp4.example.com   customphp-apps-ocp4-example-com-developer-route.apps.ocp4.example.com          php-helloworld   8080-tcp                 None
newroute                          customphp.apps.ocp4.example.com                                                php-helloworld   8080-tcp                 None
php-helloworld                    php-helloworld-developer-route.apps.ocp4.example.com                           php-helloworld   8080-tcp                 None
[student@workstation ~]$ curl customphp.apps.ocp4.example.com
Hello, World! php version is 7.3.20
[student@workstation ~]$ oc get route
NAME                              HOST/PORT                                                               PATH   SERVICES         PORT       TERMINATION   WILDCARD
customphp.apps.ocp4.example.com   customphp-apps-ocp4-example-com-developer-route.apps.ocp4.example.com          php-helloworld   8080-tcp                 None
newroute                          customphp.apps.ocp4.example.com                                                php-helloworld   8080-tcp                 None
php-helloworld                    php-helloworld-developer-route.apps.ocp4.example.com                           php-helloworld   8080-tcp                 None
[student@workstation ~]$ lab openshift-routes finish

Completing the Guided Exercise: Exposing a Service as a Route

 · Removing OpenShift project 'developer-route'................  SUCCESS
[student@workstation ~]$ 
[student@workstation ~]$ ^C
[student@workstation ~]$ ls
Desktop  DO180  DO180-apps  Documents  Downloads  github_token.txt  local  Music  Pictures  Public  Templates  venv  Videos
[student@workstation ~]$ cd DO180-apps/
[student@workstation DO180-apps]$ vi fullop.txt
[student@workstation DO180-apps]$ ^C
[student@workstation DO180-apps]$ git add .
[student@workstation DO180-apps]$ git commit -m "FullOP"
[l1 0523037] FullOP
 1 file changed, 1140 insertions(+)
 create mode 100644 fullop.txt
[student@workstation DO180-apps]$ cd ..
[student@workstation ~]$ cat github_token.txt 
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
[student@workstation ~]$ cd DO180-apps/
[student@workstation DO180-apps]$ git push origin l1
Username for 'https://github.com': MasiGit
Password for 'https://MasiGit@github.com': 
Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 11.85 KiB | 5.92 MiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/MasiGit/DO180-apps
   54faccb..0523037  l1 -> l1
[student@workstation DO180-apps]$ lab openshift-s2i start

Setting up workstation for the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Installing the tree command.................................  SUCCESS
 Checking local clone of the applications repository:
 · Folder '/home/student/DO180-apps' is a git repo.............  SUCCESS
 · Git repo '/home/student/DO180-apps' has no pending changes..  SUCCESS
 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-s2i' project does not exist.........  SUCCESS
[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
[student@workstation DO180-apps]$ git checkout -b s2i
Switched to a new branch 's2i'
[student@workstation DO180-apps]$ git push -u origin s2i
Username for 'https://github.com': MasiGit
Password for 'https://MasiGit@github.com': 
Branch 's2i' set up to track remote branch 's2i' from 'origin'.
Everything up-to-date
[student@workstation DO180-apps]$ ls
example  nodejs-app  nodejs-helloworld  php-helloworld  README.md  temps  todoapp
[student@workstation DO180-apps]$ oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

(reverse-i-search)`oc new': ^C new-project 
[student@workstation DO180-apps]$ oc new-project ${RHT_OCP4_DEV_USER}-s2i
Now using project "developer-s2i" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation DO180-apps]$ oc new-app php:7.3 --name=php-helloworld https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps#s2i --context-dir php-helloworld
--> Found image fff7ff0 (11 months old) in image stream "openshift/php" under tag "7.3" for "php:7.3"

    Apache 2.4 with PHP 7.3 
    ----------------------- 
    PHP 7.3 available as container is a base platform for building and running various PHP 7.3 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php73, rh-php73

    * The source repository appears to match: php
    * A source build using source code from https://github.com/MasiGit/DO180-apps#s2i will be created
      * The resulting image will be pushed to image stream tag "php-helloworld:latest"
      * Use 'oc start-build' to trigger a new build

--> Creating resources ...
    imagestream.image.openshift.io "php-helloworld" created
    buildconfig.build.openshift.io "php-helloworld" created
    deployment.apps "php-helloworld" created
    service "php-helloworld" created
--> Success
    Build scheduled, use 'oc logs -f buildconfig/php-helloworld' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/php-helloworld' 
    Run 'oc status' to view your app.
[student@workstation DO180-apps]$ oc get pods -w
NAME                     READY   STATUS    RESTARTS   AGE
php-helloworld-1-build   1/1     Running   0          8s
php-helloworld-74f9d8bd9-hm7nf   0/1     Pending   0          0s
php-helloworld-74f9d8bd9-hm7nf   0/1     Pending   0          0s
php-helloworld-74f9d8bd9-hm7nf   0/1     ContainerCreating   0          0s
php-helloworld-1-build           0/1     Completed           0          26s
php-helloworld-74f9d8bd9-hm7nf   0/1     ContainerCreating   0          2s
php-helloworld-74f9d8bd9-hm7nf   1/1     Running             0          4s
^C[student@workstation DO180-apps]$ oc logs --all-containers -f php-helloworld-1-build
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Adding cluster TLS certificate authority to trust store
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.source-location"="https://github.com/MasiGit/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"       "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>"       "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200"       "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b"       "io.openshift.build.commit.ref"="s2i"       "io.openshift.build.commit.message"="Initial commit, including all apps previously in course"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-1"     OPENSHIFT_BUILD_NAMESPACE="developer-s2i"     OPENSHIFT_BUILD_SOURCE="https://github.com/MasiGit/DO180-apps"     OPENSHIFT_BUILD_REFERENCE="s2i"     OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2022-05-25T12:10:33Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2022-05-25T12:10:33Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2022-05-25T12:10:33Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2022-05-25T12:10:33Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 12:10:34     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-s2i/php-helloworld-1:9b5d91a9
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Adding cluster TLS certificate authority to trust store
Cloning "https://github.com/MasiGit/DO180-apps" ...
	Commit:	f7cd8963ef353d9173c3a21dcccf402f3616840b (Initial commit, including all apps previously in course)
	Author:	Jordi Sola <someth2say@gmail.com>
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:85c8b85e2d0def7867d8fca947617ab8649b2024856ee71b80cef4b7cce27769
Copying config sha256:bf79d52b8ce0225c753f59588a182826cb7da85401f0143252329eba09aaf7f4
	Date:	Fri Oct 4 13:04:03 2019 +0200
Writing manifest to image destination
Storing signatures
--> bf79d52b8ce
bf79d52b8ce0225c753f59588a182826cb7da85401f0143252329eba09aaf7f4

Pushing image image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:85c8b85e2d0def7867d8fca947617ab8649b2024856ee71b80cef4b7cce27769
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying config sha256:bf79d52b8ce0225c753f59588a182826cb7da85401f0143252329eba09aaf7f4
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:25544f6d8342d97fdd9328b7fb8ca635101b718fc3cce762438d74745a748daa
Push successful
[student@workstation DO180-apps]$ oc describe deployment/php-helloworld
Name:                   php-helloworld
Namespace:              developer-s2i
CreationTimestamp:      Wed, 25 May 2022 08:10:09 -0400
Labels:                 app=php-helloworld
                        app.kubernetes.io/component=php-helloworld
                        app.kubernetes.io/instance=php-helloworld
Annotations:            deployment.kubernetes.io/revision: 2
                        image.openshift.io/triggers:
                          [{"from":{"kind":"ImageStreamTag","name":"php-helloworld:latest"},"fieldPath":"spec.template.spec.containers[?(@.name==\"php-helloworld\")...
                        openshift.io/generated-by: OpenShiftNewApp
Selector:               deployment=php-helloworld
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:       deployment=php-helloworld
  Annotations:  openshift.io/generated-by: OpenShiftNewApp
  Containers:
   php-helloworld:
    Image:        image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:25544f6d8342d97fdd9328b7fb8ca635101b718fc3cce762438d74745a748daa
    Ports:        8080/TCP, 8443/TCP
    Host Ports:   0/TCP, 0/TCP
    Environment:  <none>
    Mounts:       <none>
  Volumes:        <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  <none>
NewReplicaSet:   php-helloworld-74f9d8bd9 (1/1 replicas created)
Events:
  Type    Reason             Age   From                   Message
  ----    ------             ----  ----                   -------
  Normal  ScalingReplicaSet  111s  deployment-controller  Scaled up replica set php-helloworld-7595dffb9d to 1
  Normal  ScalingReplicaSet  84s   deployment-controller  Scaled up replica set php-helloworld-74f9d8bd9 to 1
  Normal  ScalingReplicaSet  80s   deployment-controller  Scaled down replica set php-helloworld-7595dffb9d to 0
[student@workstation DO180-apps]$ oc expose service php-helloworld --name ${RHT_OCP4_DEV_USER}-helloworld
route.route.openshift.io/developer-helloworld exposed
[student@workstation DO180-apps]$ oc get route
NAME                   HOST/PORT                                                  PATH   SERVICES         PORT       TERMINATION   WILDCARD
developer-helloworld   developer-helloworld-developer-s2i.apps.ocp4.example.com          php-helloworld   8080-tcp                 None
[student@workstation DO180-apps]$ curl -s developer-helloworld-developer-s2i.apps.ocp4.example.com
Hello, World! php version is 7.3.20
[student@workstation DO180-apps]$ cd php-helloworld/
[student@workstation php-helloworld]$ vi index.php 
[student@workstation php-helloworld]$ git add .
[student@workstation php-helloworld]$ git commit -m 'CHnaged index page contents'
[s2i 886c1e4] CHnaged index page contents
 1 file changed, 1 insertion(+)
[student@workstation php-helloworld]$ git push origin s2i
Enumerating objects: 7, done.
Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 419 bytes | 419.00 KiB/s, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/MasiGit/DO180-apps
   f7cd896..886c1e4  s2i -> s2i
[student@workstation php-helloworld]$ oc start-build php-helloworld 
build.build.openshift.io/php-helloworld-2 started
[student@workstation php-helloworld]$ oc logs php-helloworld-2-build -f
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.source-location"="https://github.com/MasiGit/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"       "io.openshift.build.commit.author"="Student User <student@workstation.lab.example.com>"       "io.openshift.build.commit.date"="Wed May 25 08:16:46 2022 -0400"       "io.openshift.build.commit.id"="886c1e40d1ad30ef2459c3556701b44f7bb6c10b"       "io.openshift.build.commit.ref"="s2i"       "io.openshift.build.commit.message"="CHnaged index page contents"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-2"     OPENSHIFT_BUILD_NAMESPACE="developer-s2i"     OPENSHIFT_BUILD_SOURCE="https://github.com/MasiGit/DO180-apps"     OPENSHIFT_BUILD_REFERENCE="s2i"     OPENSHIFT_BUILD_COMMIT="886c1e40d1ad30ef2459c3556701b44f7bb6c10b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2022-05-25T12:17:46Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2022-05-25T12:17:46Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2022-05-25T12:17:47Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2022-05-25T12:17:47Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 12:17:47     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-s2i/php-helloworld-2:f4c8ffcc
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:a5f25d2f85a4016ff34c71299379ea2b65988e485f28ccc06a1eab44cb6f360d
Copying config sha256:4bcf9134159686ca95759211e5ea3a7574f7da8cb2da44076822f19ebc74117a
Writing manifest to image destination
Storing signatures
--> 4bcf9134159
4bcf9134159686ca95759211e5ea3a7574f7da8cb2da44076822f19ebc74117a

Pushing image image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:a5f25d2f85a4016ff34c71299379ea2b65988e485f28ccc06a1eab44cb6f360d
Copying config sha256:4bcf9134159686ca95759211e5ea3a7574f7da8cb2da44076822f19ebc74117a
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:e750fd990de8d1607854951375cc391581bf1e00bababc6f4921b4cea8d2672e
Push successful
[student@workstation php-helloworld]$ oc get pods
NAME                              READY   STATUS        RESTARTS   AGE
php-helloworld-1-build            0/1     Completed     0          7m50s
php-helloworld-2-build            0/1     Completed     0          36s
php-helloworld-6769bc4d67-nk2kk   1/1     Running       0          10s
php-helloworld-74f9d8bd9-hm7nf    0/1     Terminating   0          7m24s
[student@workstation php-helloworld]$ oc get pods
NAME                              READY   STATUS      RESTARTS   AGE
php-helloworld-1-build            0/1     Completed   0          7m55s
php-helloworld-2-build            0/1     Completed   0          41s
php-helloworld-6769bc4d67-nk2kk   1/1     Running     0          15s
[student@workstation php-helloworld]$ oc get pods
NAME                              READY   STATUS      RESTARTS   AGE
php-helloworld-1-build            0/1     Completed   0          7m57s
php-helloworld-2-build            0/1     Completed   0          43s
php-helloworld-6769bc4d67-nk2kk   1/1     Running     0          17s
[student@workstation php-helloworld]$ curl -s developer-helloworld-developer-s2i.apps.ocp4.example.com
Hello, World! php version is 7.3.20
A change is coming!
[student@workstation php-helloworld]$ lab openshift-s2i finish

Completing the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Log in on OpenShift.........................................  SUCCESS
 · Deleting the 'developer-s2i' project........................  SUCCESS
[student@workstation php-helloworld]$ ^C
[student@workstation php-helloworld]$ git branch
  l1
  master
* s2i
[student@workstation php-helloworld]$ git checkout l1
Switched to branch 'l1'
Your branch is up to date with 'origin/l1'.
[student@workstation php-helloworld]$ 

